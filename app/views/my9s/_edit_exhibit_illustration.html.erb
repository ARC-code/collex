<% illustration_id = illustration != nil ? illustration.id : -1 %>
<div class="exhibit_delta_link">
	<% if ExhibitElement.find(element_id).exhibit_element_layout_type == 'pics' -%>
		<% ajax_action = "'/my9s/edit_row_of_illustrations'" -%>
		<% ajax_div_id = "'element_#{element_id}'" -%>
		<% illustration_pos = ExhibitIllustration.find(illustration_id).position -%>
		<% ajax_params = "'element_id=#{element_id}&position=#{illustration_pos}&verb='" -%>
		<%= link_to_function(left_char(), "doAjaxLink(#{ajax_div_id}, #{ajax_action}, #{ajax_params}+ 'left');", { :title => 'Move Illustration Left' }) if illustration_pos > 1 %>
		<%= link_to_function(right_char(), "doAjaxLink(#{ajax_div_id}, #{ajax_action}, #{ajax_params}+ 'right');", { :title => 'Move Illustration Right' }) if illustration_pos < ExhibitElement.find(element_id).exhibit_illustrations.length %>
	<% end # if this is part of a row of illustrations -%>
</div>
<div id='illustration_<%= illustration_id %>'>
	<%= render :partial => 'exhibits/illustration', :locals => { :illustration => illustration, :edit_mode => true, :element_id => element_id, :illustration_id => illustration_id } %>
</div>
